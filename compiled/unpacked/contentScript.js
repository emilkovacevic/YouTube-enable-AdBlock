(()=>{"use strict";(()=>{let e,t=!1;function n(e){chrome.runtime.sendMessage({log:e}),console.log(e)}function o(){if(!t)return;const s=document.querySelectorAll("ytd-popup-container"),i=document.querySelector(".ytp-play-button");i&&"Play"===i.getAttribute("data-title-no-tooltip")&&(n("Button was paused. Clicking..."),i.click(),n("Playing the video...")),0!==s.length?(n(`Found ${s.length} popup${1===s.length?".":"s."}`),s.forEach((e=>{n("Removed popup..."),e.remove()})),n("Popup cleanup finished!"),n("Event monitoring restarted!"),e=new MutationObserver((e=>{e.forEach((e=>{e.addedNodes&&e.addedNodes.forEach((e=>{e instanceof Element&&e.classList.contains("ytd-popup-container")&&o()}))}))})),t?(n("Listening to events"),e.observe(document.body,{childList:!0,subtree:!0})):(n("Not listening to events"),e.disconnect())):n("No popups...")}chrome.runtime.onMessage.addListener(((s,i,c)=>{"on"===s.contentScriptMessage?(t=!0,n("Enabled true"),o()):"off"===s.contentScriptMessage&&(t=!1,e=null,n("Enabled false"))})),chrome.runtime.onMessage.addListener((e=>{const{type:s}=e;t&&"NEW"===s&&(n("New video loaded"),o())}))})()})();